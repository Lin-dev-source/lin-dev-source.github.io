(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{485:function(s,t,a){"use strict";a.r(t);var n=a(20),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("看别人的项目有感")]),s._v(" "),a("h1",{attrs:{id:"仿ubuntu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仿ubuntu"}},[s._v("#")]),s._v(" 仿Ubuntu")]),s._v(" "),a("p",[s._v("window对象：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n        id: "firefox",\n        title: "Firefox Browser",\n        icon: \'./themes/Yaru/apps/firefox.svg\',\n        disabled: false,\n        favourite: true,\n        desktop_shortcut: true,\n        meta: {\n        \tDOMRect,\n        \tmaximized\n        }\n    },\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("meta包括是DOMRect对象")]),s._v(" "),a("h3",{attrs:{id:"store"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#store"}},[s._v("#")]),s._v(" store")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("state"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        showControlPanel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        showDesktopMenu"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        showAppMenu"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        windowList"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        focusedWindow"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 右击桌面和侧边栏选择的时候用")]),s._v("\n        minimizedWindowList"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        maximizedWindowList"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        fullHeight"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        fullWidth"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        hidedSidebar"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        wallpaper"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"index"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[s._v("#")]),s._v(" index")]),s._v(" "),a("ul",[a("li",[s._v("computed：")])]),s._v(" "),a("p",[s._v("​\twindowList 存放打开的app")]),s._v(" "),a("ul",[a("li",[s._v("mounted:")])]),s._v(" "),a("p",[s._v("​\t获取当前宽高，放在store")]),s._v(" "),a("p",[s._v("​\t定义onresize")]),s._v(" "),a("p",[s._v("​\toncontextmenu 右击鼠标")]),s._v(" "),a("p",[s._v("​\tonmousedown")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("methods")]),s._v(" "),a("p",[s._v("openWindow():")]),s._v(" "),a("p",[s._v("meta有"),a("strong",[s._v("maximized")]),s._v("属性？ （在store的maximizeWindow变为true）")]),s._v(" "),a("p",[s._v("判断这个app之前是否最大化，来进行显示")]),s._v(" "),a("p",[s._v("在this.apps里找到此app")])])]),s._v(" "),a("h3",{attrs:{id:"window组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window组件"}},[s._v("#")]),s._v(" window组件")]),s._v(" "),a("ul",[a("li",[s._v("data:")])]),s._v(" "),a("p",[s._v("​\t设置好默认高宽和偏移量(窗口打开时的默认位置)")]),s._v(" "),a("p",[s._v("​\tclosed：是否关闭？")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("ul",[a("li",[s._v("props:传入window对象（传进来时已给meta赋值meta）")])]),s._v(" "),a("p",[s._v("mounted:")]),s._v(" "),a("p",[s._v("​\t当窗口过小时固定window大小")]),s._v(" "),a("p",[s._v("​\t不然给props的mata赋上默认宽高")]),s._v(" "),a("p",[s._v("​\t让窗口放在正中")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("computed")]),s._v(" "),a("p",[s._v("minimized：当前窗口是否是最大化")]),s._v(" "),a("p",[s._v("maximized")]),s._v(" "),a("p",[s._v("fullHeight：当前最大宽（在store）")])]),s._v(" "),a("li",[a("p",[s._v("methods：")])])]),s._v(" "),a("p",[s._v("​\tsetWindowPosition() 把window的meta属性赋成rect，赋值给store的windowlist")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("WindowSidebar")]),s._v(" "),a("p",[s._v("​\tmoveStart：点击header开始移动")]),s._v(" "),a("p",[s._v("​\tminimizeWindow：最小化")]),s._v(" "),a("p",[s._v("​\tmaximizeWindow：最大化")]),s._v(" "),a("p",[s._v("​\tcloseWindow：关闭窗口")]),s._v(" "),a("p",[s._v("WindowSidebar")]),s._v(" "),a("p",[s._v('​\tchangeCursorToRowResize鼠标变成"ns-resize"')]),s._v(" "),a("p",[s._v("​\tchangeCursorToDefault鼠标变成正常")]),s._v(" "),a("p",[s._v("​\t（变鼠标之前要判断是否是最大化）")]),s._v(" "),a("p",[s._v("​\tresizeVertical  改变垂直方向的大小")]),s._v(" "),a("p",[s._v("​\t\t首先判断不属于最大化")]),s._v(" "),a("p",[s._v("​\t\t改变窗口大小")]),s._v(" "),a("p",[s._v("​\tresizeHorizontal 改变水平方向")]),s._v(" "),a("p",[s._v("moveStart (点击header后开始移动)")]),s._v(" "),a("p",[s._v("​\tfocusedWindow设置为当前窗口")]),s._v(" "),a("p",[s._v("​\t设置鼠标cursor")]),s._v(" "),a("p",[s._v("​\t小窗口不能跑出window左边框和有边框")]),s._v(" "),a("p",[s._v("minimizeWindow 窗口缩小动画")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("window.style.transform = `translate(${transX / 0.5}px,0px) scale(0.5)`;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("commit给store")]),s._v(" "),a("p",[s._v("maximizeWindow 最大化")]),s._v(" "),a("p",[s._v("​     setWindowPosition改变meta")]),s._v(" "),a("p",[s._v("restoreWindow 最大化后恢复")]),s._v(" "),a("p",[s._v("closeWindow 关闭")]),s._v(" "),a("p",[s._v("​\t延迟300ms？")])])}),[],!1,null,null,null);t.default=e.exports}}]);